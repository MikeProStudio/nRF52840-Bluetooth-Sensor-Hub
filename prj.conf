# Minimal Config
CONFIG_BT=y
CONFIG_BT_PERIPHERAL=y
CONFIG_BT_DEVICE_NAME="Skynet AI Surveillance Beacon"

# WICHTIG: Controller muss an sein
# CONFIG_BT_LL_SW_SPLIT=y

# Enable Serial/Console
CONFIG_SERIAL=y
CONFIG_CONSOLE=y
CONFIG_UART_CONSOLE=y
CONFIG_UART_LINE_CTRL=y

# Enable Logging
CONFIG_LOG=y
CONFIG_PRINTK=y
CONFIG_LOG_MODE_DEFERRED=n
CONFIG_LOG_PROCESS_THREAD_STARTUP_DELAY_MS=0

# Enable USB Stack (Legacy)
CONFIG_USB_DEVICE_STACK=y
CONFIG_USB_DEVICE_STACK_NEXT=n
CONFIG_USB_DEVICE_PRODUCT="XIAO BLE Console"
CONFIG_USB_DEVICE_VID=0x2886
CONFIG_USB_DEVICE_PID=0x802f
CONFIG_USB_DEVICE_INITIALIZE_AT_BOOT=n

# USB Composite Device Settings
CONFIG_USB_COMPOSITE_DEVICE=n
CONFIG_USB_MASS_STORAGE=n
CONFIG_USB_DEVICE_BLUETOOTH=n
CONFIG_USB_DEVICE_REMOTE_WAKEUP=n
CONFIG_USB_CDC_ACM=y
CONFIG_USB_DEVICE_SN="XIAO-IMU-001"

# GPIO is usually needed
CONFIG_GPIO=y
CONFIG_REGULATOR=y
CONFIG_REGULATOR_FIXED=y

# Sensors (LSM6DS3TR-C compatible with LSM6DSL)
CONFIG_I2C=y
CONFIG_SENSOR=y
CONFIG_LSM6DSL=y
CONFIG_LSM6DSL_TRIGGER_GLOBAL_THREAD=y
CONFIG_CBPRINTF_FP_SUPPORT=y

# FPU Support
CONFIG_FPU=y
CONFIG_FPU_SHARING=y

# Audio / PDM Microphone
CONFIG_AUDIO=y
CONFIG_AUDIO_DMIC=y
CONFIG_AUDIO_DMIC_NRFX_PDM=y
CONFIG_NRFX_PDM=y
CONFIG_MAIN_STACK_SIZE=4096
CONFIG_HEAP_MEM_POOL_SIZE=4096
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=4096

# TX Power Configuration
# Default to 0dBm for safety/standard compliant
CONFIG_BT_CTLR_TX_PWR_0=y

# Enable HCI VS Commands for setting TX Power (Nordic Specific)
CONFIG_BT_HCI_VS=y

# Battery Monitoring (ADC)
CONFIG_ADC=y
